= nested_form_for @customer, :html => { :class => 'form-horizontal' } do |f|
  .row
    .span4
      .control-group
        = f.label :first_name, :class => 'control-label'
        .controls
          = f.text_field :first_name, :class => 'text_field'
    .span4
      .control-group
        = f.label :last_name, :class => 'control-label'
        .controls
          = f.text_field :last_name, :class => 'text_field'

  %h3 Dirección
  = f.fields_for :address do |address_form|
    .row
      .span4
        .control-group
          = address_form.label :address1, :class => 'control-label'
          .controls
            = address_form.text_field :address1, :class => 'text_field'

      .span4
        .control-group
          = address_form.label :address2, :class => 'control-label'
          .controls
            = address_form.text_field :address2, :class => 'text_field'
    .row
      .span4
        .control-group
          = address_form.label :state, :class => 'control-label'
          .controls
            = address_form.text_field :state, :class => 'text_field'
      .span4
        .control-group
          = address_form.label :city, :class => 'control-label'
          .controls
            = address_form.text_field :city, :class => 'text_field'
    .row
      .span4
        .control-group
          = address_form.label :town, :class => 'control-label'
          .controls
            = address_form.text_field :town, :class => 'text_field'
      .span4
        .control-group
          = address_form.label :location, :class => 'control-label'
          .controls
            = address_form.text_field :location, :class => 'text_field'
    .row
      .span4
        .control-group
          = address_form.label :zip_code, :class => 'control-label'
          .controls
            = address_form.text_field :zip_code, :class => 'text_field'
    .row
      .span9
        .control-group
          = address_form.label :comments, :class => 'control-label'
          .controls
            = address_form.text_area :comments, :cols => 30, :rows => 5, :class => 'text_area'

  %h3 Teléfono(s)
  %table
    %thead
      %tr
        %th
          Número
        %th
          Tipo
        %th
          = f.link_to_add "Agregar teléfono", :phones, "data-target" => "#phones"
    %tbody#phones
      = f.fields_for :phones, :wrapper => false do |phone_form|
        %tr.fields
          %td
            = phone_form.text_field :number
          %td
            = phone_form.select :phone_type, Phone::TYPES, { :include_blank => "Selecciona ..." }
          %td
            = phone_form.link_to_remove "Eliminar éste teléfono"

  %h3 Correo Electrónico(s)
  %table
    %thead
      %tr
        %th
          Correo Electrónico
        %th
          Tipo
        %th
          = f.link_to_add "Agregar Correo Electrónico", :emails, "data-target" => "#emails"
    %tbody#emails
      = f.fields_for :emails, :wrapper => false do |email_form|
        %tr.fields
          %td
            = email_form.text_field :email
          %td
            = email_form.select :email_type, Email::TYPES, { :include_blank => "Selecciona ..." }
          %td
            = email_form.link_to_remove "Eliminar éste Correo Electrónico"


  .form-actions
    = f.submit nil, :class => 'btn btn-primary'
    = link_to t('.cancel', :default => t("helpers.links.cancel")),
                customers_path, :class => 'btn'
