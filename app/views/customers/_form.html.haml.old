= nested_form_for @customer do |f|
  - if @customer.errors.any?
    #errorExplanation
      %h2
        = pluralize(@customer.errors.count, "error")
        prohibited this customer from being saved:
    %ul
      - @customer.errors.full_messages.each do |msg|
        %li= msg

  %p
    = f.label :first_name
    %br
    = f.text_field :first_name

  %p
    = f.label :last_name
    %br
    = f.text_field :last_name

  %h3 Dirección
  = f.fields_for :address do |address_form|

    %p
      = address_form.label :address1
      = address_form.text_field :address1
    %p
      = address_form.label :address2
      = address_form.text_field :address2
    %p
      = address_form.label :state
      = address_form.text_field :state
    %p
      = address_form.label :city
      = address_form.text_field :city
    %p
      = address_form.label :town
      = address_form.text_field :town
    %p
      = address_form.label :location
      = address_form.text_field :location
    %p
      = address_form.label :zip_code
      = address_form.text_field :zip_code
    %p
      = address_form.label :comments
      %br
      = address_form.text_area :comments, :cols => 30, :rows => 5

  %h3 Teléfono(s)
  = f.fields_for :phones do |phone_form|
    = phone_form.text_field :number
    = phone_form.select :phone_type, Phone::TYPES, { :include_blank => "Selecciona ..." }
    = phone_form.link_to_remove "Eliminar éste teléfono"

  %p
    = f.link_to_add "Agregar teléfono", :phones

  %h3 Correo Electrónico(s)
  = f.fields_for :emails do |email_form|
    = email_form.text_field :email
    = email_form.select :email_type, Email::TYPES, { :include_blank => "Selecciona ..." }
    = email_form.link_to_remove "Eliminar éste Correo Electrónico"

  %p
    = f.link_to_add "Agregar Correo Electrónico", :emails
  %p
    = f.submit